REPOSITORY                       TAG                 IMAGE ID            CREATED             SIZE
loktionovam/ubuntu-tmp-file      latest              9d5791cb41c7        9 seconds ago       115MB

Про образы.

Docker image состоит из набора read-only слоев, например
            "Layers": [
                "sha256:711e4cb62f50eb37292a0df824072b6a818211e3f9b3aae75a2067e65fa32eca",
                "sha256:a0e188d0e2789aeb82bd848958f432fbc19704bfa3337e0cad00545b43550f51",
                "sha256:6eaddaf493f101a62bb0875185e706424a33636db5d8a55945d63f6f870d7dd2",
                "sha256:07b9c3c04cbdf53317cb326fe3db42073366add5a8919f590e1574252ac6f8c9",
                "sha256:709bdd00b1a496a5ee836b8bc3e0f371fa114e9ff4cc524c0862696bbfc69c9c",
                "sha256:11266888239dc2bbd77759fb2c8df2eb2284983f817c745605d42d46402258a9"
            ]
Каждый слой - это diff от предыдущего слоя.
Разные images используют общие слои (не нужно загружать каждый слой каждый раз если он уже есть).


В образах есть описание контейнеров (см. ниже), которые запущены поверх него

        "Container": "b8fc5d0067d0ebc04a61b579250dc1753597e75fcc7554b2bebb6aefeb7abcdd",
        "ContainerConfig": {
            "Hostname": "b8fc5d0067d0",


Про контейнеры.

Создание нового контейнера создает COW read/write слой поверх image, этот слой называется container layer.
В нем отличие контейнера от image (когда удаляется контейнер, то удаляется только его r/w слой, нижележащий image остается)
При записи в файл контейнер просматривает слои (сверху-вниз, от самого нового, до самого старого).
Файл копируется в writable слой и вся запись происходит в этот скопированный файл при этом контейнер не видит нижележащие read-only копии этого файла.
В контейнерах есть состояние связанное с его runtime (pid, аппаратные ресурсы - память, процессор, описание сетевых интерфейсов), например
        "State": {
            "Status": "running",
            "Running": true,
            "Paused": false,
...
                    "Gateway": "172.17.0.1",
                    "IPAddress": "172.17.0.2",
                    "IPPrefixLen": 16,



Контейнеры это про runtime+r/w слой, images - это про хранение/доставку приложений.
